= Stagg Specification

== Introduction

== Types

== Class definitions



=== Collection

[%hardbreaks]
 *objects*: list of <<Histogram>> or <<Ntuple>> or <<ParameterizedFunction>> or <<BinnedEvaluatedFunction>> or <<Collection>> +
{nbsp}—{nbsp}(default: null/empty)
 *axis*: list of <<Axis>>{nbsp}—{nbsp}(default: null/empty)
 *title*: str{nbsp}—{nbsp}(default: null)
 *metadata*: <<Metadata>>{nbsp}—{nbsp}(default: null)
 *decoration*: <<Decoration>>{nbsp}—{nbsp}(default: null)
 *script*: str{nbsp}—{nbsp}(default: null)

=== Histogram

[%hardbreaks]
required  *axis*: list of <<Axis>> with length in [1, ∞)
required  *counts*: <<UnweightedCounts>> or <<WeightedCounts>>
 *profile*: list of <<Profile>>{nbsp}—{nbsp}(default: null/empty)
 *axis_covariances*: list of <<Covariance>>{nbsp}—{nbsp}(default: null/empty)
 *profile_covariances*: list of <<Covariance>>{nbsp}—{nbsp}(default: null/empty)
 *functions*: list of <<ParameterizedFunction>> or <<EvaluatedFunction>>{nbsp}—{nbsp}(default: null/empty)
 *title*: str{nbsp}—{nbsp}(default: null)
 *metadata*: <<Metadata>>{nbsp}—{nbsp}(default: null)
 *decoration*: <<Decoration>>{nbsp}—{nbsp}(default: null)
 *script*: str{nbsp}—{nbsp}(default: null)

=== Axis

[%hardbreaks]
 *binning*: <<IntegerBinning>> or <<RegularBinning>> or <<HexagonalBinning>> or <<EdgesBinning>> or <<IrregularBinning>> or <<CategoryBinning>> or <<SparseRegularBinning>> or <<FractionBinning>> or <<PredicateBinning>> or <<VariationBinning>> +
{nbsp}—{nbsp}(default: null)
 *expression*: str{nbsp}—{nbsp}(default: null)
 *statistics*: <<Statistics>>{nbsp}—{nbsp}(default: null)
 *title*: str{nbsp}—{nbsp}(default: null)
 *metadata*: <<Metadata>>{nbsp}—{nbsp}(default: null)
 *decoration*: <<Decoration>>{nbsp}—{nbsp}(default: null)

=== IntegerBinning

[%hardbreaks]
required  *min*: int in (‒∞, ∞)
required  *max*: int in (‒∞, ∞)
 *loc_underflow*: one of {`+BinLocation.below3+`, `+BinLocation.below2+`, `+BinLocation.below1+`, `+BinLocation.nonexistent+`, `+BinLocation.above1+`, `+BinLocation.above2+`, `+BinLocation.above3+`} +
{nbsp}—{nbsp}(default: `+BinLocation.nonexistent+`)
 *loc_overflow*: one of {`+BinLocation.below3+`, `+BinLocation.below2+`, `+BinLocation.below1+`, `+BinLocation.nonexistent+`, `+BinLocation.above1+`, `+BinLocation.above2+`, `+BinLocation.above3+`} +
{nbsp}—{nbsp}(default: `+BinLocation.nonexistent+`)

=== RegularBinning

[%hardbreaks]
required  *num*: int in [1, ∞)
required  *interval*: <<RealInterval>>
 *overflow*: <<RealOverflow>>{nbsp}—{nbsp}(default: null)
 *circular*: bool{nbsp}—{nbsp}(default: false)

=== RealInterval

[%hardbreaks]
required  *low*: float in [‒∞, ∞]
required  *high*: float in [‒∞, ∞]
 *low_inclusive*: bool{nbsp}—{nbsp}(default: true)
 *high_inclusive*: bool{nbsp}—{nbsp}(default: false)

=== RealOverflow

[%hardbreaks]
 *loc_underflow*: one of {`+BinLocation.below3+`, `+BinLocation.below2+`, `+BinLocation.below1+`, `+BinLocation.nonexistent+`, `+BinLocation.above1+`, `+BinLocation.above2+`, `+BinLocation.above3+`} +
{nbsp}—{nbsp}(default: `+BinLocation.nonexistent+`)
 *loc_overflow*: one of {`+BinLocation.below3+`, `+BinLocation.below2+`, `+BinLocation.below1+`, `+BinLocation.nonexistent+`, `+BinLocation.above1+`, `+BinLocation.above2+`, `+BinLocation.above3+`} +
{nbsp}—{nbsp}(default: `+BinLocation.nonexistent+`)
 *loc_nanflow*: one of {`+BinLocation.below3+`, `+BinLocation.below2+`, `+BinLocation.below1+`, `+BinLocation.nonexistent+`, `+BinLocation.above1+`, `+BinLocation.above2+`, `+BinLocation.above3+`} +
{nbsp}—{nbsp}(default: `+BinLocation.nonexistent+`)
 *minf_mapping*: one of {`+RealOverflow.missing+`, `+RealOverflow.in_underflow+`, `+RealOverflow.in_overflow+`, `+RealOverflow.in_nanflow+`} +
{nbsp}—{nbsp}(default: `+RealOverflow.in_underflow+`)
 *pinf_mapping*: one of {`+RealOverflow.missing+`, `+RealOverflow.in_underflow+`, `+RealOverflow.in_overflow+`, `+RealOverflow.in_nanflow+`} +
{nbsp}—{nbsp}(default: `+RealOverflow.in_overflow+`)
 *nan_mapping*: one of {`+RealOverflow.missing+`, `+RealOverflow.in_underflow+`, `+RealOverflow.in_overflow+`, `+RealOverflow.in_nanflow+`} +
{nbsp}—{nbsp}(default: `+RealOverflow.in_nanflow+`)

=== HexagonalBinning

[%hardbreaks]
required  *qmin*: int in (‒∞, ∞)
required  *qmax*: int in (‒∞, ∞)
required  *rmin*: int in (‒∞, ∞)
required  *rmax*: int in (‒∞, ∞)
 *coordinates*: one of {`+HexagonalBinning.offset+`, `+HexagonalBinning.doubled_offset+`, `+HexagonalBinning.cube_xy+`, `+HexagonalBinning.cube_yz+`, `+HexagonalBinning.cube_xz+`} +
{nbsp}—{nbsp}(default: `+HexagonalBinning.offset+`)
 *xorigin*: float in (‒∞, ∞){nbsp}—{nbsp}(default: 0.0)
 *yorigin*: float in (‒∞, ∞){nbsp}—{nbsp}(default: 0.0)
 *qangle*: float in [‒π/2, π/2]{nbsp}—{nbsp}(default: 0.0)
 *qoverflow*: <<RealOverflow>>{nbsp}—{nbsp}(default: null)
 *roverflow*: <<RealOverflow>>{nbsp}—{nbsp}(default: null)

=== EdgesBinning

[%hardbreaks]
required  *edges*: list of float with length in [1, ∞)
 *overflow*: <<RealOverflow>>{nbsp}—{nbsp}(default: null)
 *low_inclusive*: bool{nbsp}—{nbsp}(default: true)
 *high_inclusive*: bool{nbsp}—{nbsp}(default: false)
 *circular*: bool{nbsp}—{nbsp}(default: false)

=== IrregularBinning

[%hardbreaks]
required  *intervals*: list of <<RealInterval>> with length in [1, ∞)
 *overflow*: <<RealOverflow>>{nbsp}—{nbsp}(default: null)
 *overlapping_fill*: one of {`+IrregularBinning.undefined+`, `+IrregularBinning.all+`, `+IrregularBinning.first+`, `+IrregularBinning.last+`} +
{nbsp}—{nbsp}(default: `+IrregularBinning.undefined+`)

=== CategoryBinning

[%hardbreaks]
required  *categories*: list of str
 *loc_overflow*: one of {`+BinLocation.below3+`, `+BinLocation.below2+`, `+BinLocation.below1+`, `+BinLocation.nonexistent+`, `+BinLocation.above1+`, `+BinLocation.above2+`, `+BinLocation.above3+`} +
{nbsp}—{nbsp}(default: `+BinLocation.nonexistent+`)

=== SparseRegularBinning

[%hardbreaks]
required  *bins*: list of int
required  *bin_width*: float in (0, ∞]
 *origin*: float in [‒∞, ∞]{nbsp}—{nbsp}(default: 0.0)
 *overflow*: <<RealOverflow>>{nbsp}—{nbsp}(default: null)
 *low_inclusive*: bool{nbsp}—{nbsp}(default: true)
 *high_inclusive*: bool{nbsp}—{nbsp}(default: false)
 *minbin*: int in [‒2⁶³, 2⁶³ ‒ 1]{nbsp}—{nbsp}(default: ‒2⁶³)
 *maxbin*: int in [‒2⁶³, 2⁶³ ‒ 1]{nbsp}—{nbsp}(default: 2⁶³ ‒ 1)

=== FractionBinning

[%hardbreaks]
 *layout*: one of {`+FractionBinning.passall+`, `+FractionBinning.failall+`, `+FractionBinning.passfail+`} +
{nbsp}—{nbsp}(default: `+FractionBinning.passall+`)
 *layout_reversed*: bool{nbsp}—{nbsp}(default: false)
 *error_method*: one of {`+FractionBinning.undefined+`, `+FractionBinning.normal+`, `+FractionBinning.clopper_pearson+`, `+FractionBinning.wilson+`, `+FractionBinning.agresti_coull+`, `+FractionBinning.feldman_cousins+`, `+FractionBinning.jeffrey+`, `+FractionBinning.bayesian_uniform+`} +
{nbsp}—{nbsp}(default: `+FractionBinning.undefined+`)

=== PredicateBinning

[%hardbreaks]
required  *predicates*: list of str with length in [1, ∞)
 *overlapping_fill*: one of {`+IrregularBinning.undefined+`, `+IrregularBinning.all+`, `+IrregularBinning.first+`, `+IrregularBinning.last+`} +
{nbsp}—{nbsp}(default: `+IrregularBinning.undefined+`)

=== VariationBinning

[%hardbreaks]
required  *variations*: list of <<Variation>> with length in [1, ∞)

=== Variation

[%hardbreaks]
required  *assignments*: list of <<Assignment>>
 *systematic*: list of float{nbsp}—{nbsp}(default: null/empty)
 *category_systematic*: list of str{nbsp}—{nbsp}(default: null/empty)

=== Assignment

[%hardbreaks]
required  *identifier*: unique str
required  *expression*: str

=== UnweightedCounts

[%hardbreaks]
required  *counts*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>>

=== WeightedCounts

[%hardbreaks]
required  *sumw*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>>
 *sumw2*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>> +
{nbsp}—{nbsp}(default: null)
 *unweighted*: <<UnweightedCounts>>{nbsp}—{nbsp}(default: null)

=== InterpretedInlineBuffer

[%hardbreaks]
required  *buffer*: buffer
 *filters*: list of {`+Buffer.none+`, `+Buffer.gzip+`, `+Buffer.lzma+`, `+Buffer.lz4+`} +
{nbsp}—{nbsp}(default: null/empty)
 *postfilter_slice*: slice (start:stop:step){nbsp}—{nbsp}(default: null)
 *dtype*: one of {`+Interpretation.none+`, `+Interpretation.bool+`, `+Interpretation.int8+`, `+Interpretation.uint8+`, `+Interpretation.int16+`, `+Interpretation.uint16+`, `+Interpretation.int32+`, `+Interpretation.uint32+`, `+Interpretation.int64+`, `+Interpretation.uint64+`, `+Interpretation.float32+`, `+Interpretation.float64+`} +
{nbsp}—{nbsp}(default: `+Interpretation.none+`)
 *endianness*: one of {`+Interpretation.little_endian+`, `+Interpretation.big_endian+`} +
{nbsp}—{nbsp}(default: `+Interpretation.little_endian+`)
 *dimension_order*: one of {`+InterpretedBuffer.c_order+`, `+InterpretedBuffer.fortran+`} +
{nbsp}—{nbsp}(default: `+InterpretedBuffer.c_order+`)

=== InterpretedInlineInt64Buffer

[%hardbreaks]
required  *buffer*: buffer

=== InterpretedInlineFloat64Buffer

[%hardbreaks]
required  *buffer*: buffer

=== InterpretedExternalBuffer

[%hardbreaks]
required  *pointer*: int in [0, ∞)
required  *numbytes*: int in [0, ∞)
 *external_source*: one of {`+ExternalBuffer.memory+`, `+ExternalBuffer.samefile+`, `+ExternalBuffer.file+`, `+ExternalBuffer.url+`} +
{nbsp}—{nbsp}(default: `+ExternalBuffer.memory+`)
 *filters*: list of {`+Buffer.none+`, `+Buffer.gzip+`, `+Buffer.lzma+`, `+Buffer.lz4+`} +
{nbsp}—{nbsp}(default: null/empty)
 *postfilter_slice*: slice (start:stop:step){nbsp}—{nbsp}(default: null)
 *dtype*: one of {`+Interpretation.none+`, `+Interpretation.bool+`, `+Interpretation.int8+`, `+Interpretation.uint8+`, `+Interpretation.int16+`, `+Interpretation.uint16+`, `+Interpretation.int32+`, `+Interpretation.uint32+`, `+Interpretation.int64+`, `+Interpretation.uint64+`, `+Interpretation.float32+`, `+Interpretation.float64+`} +
{nbsp}—{nbsp}(default: `+Interpretation.none+`)
 *endianness*: one of {`+Interpretation.little_endian+`, `+Interpretation.big_endian+`} +
{nbsp}—{nbsp}(default: `+Interpretation.little_endian+`)
 *dimension_order*: one of {`+InterpretedBuffer.c_order+`, `+InterpretedBuffer.fortran+`} +
{nbsp}—{nbsp}(default: `+InterpretedBuffer.c_order+`)
 *location*: str{nbsp}—{nbsp}(default: null)

=== Profile

[%hardbreaks]
required  *expression*: str
required  *statistics*: <<Statistics>>
 *title*: str{nbsp}—{nbsp}(default: null)
 *metadata*: <<Metadata>>{nbsp}—{nbsp}(default: null)
 *decoration*: <<Decoration>>{nbsp}—{nbsp}(default: null)

=== Statistics

[%hardbreaks]
 *moments*: list of <<Moments>>{nbsp}—{nbsp}(default: null/empty)
 *quantiles*: list of <<Quantiles>>{nbsp}—{nbsp}(default: null/empty)
 *mode*: <<Modes>>{nbsp}—{nbsp}(default: null)
 *min*: <<Extremes>>{nbsp}—{nbsp}(default: null)
 *max*: <<Extremes>>{nbsp}—{nbsp}(default: null)

=== Moments

[%hardbreaks]
required  *sumwxn*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>>
required  *n*: int in [‒128, 127]
 *weightpower*: int in [‒128, 127]{nbsp}—{nbsp}(default: 0)
 *filter*: <<StatisticFilter>>{nbsp}—{nbsp}(default: null)

=== Quantiles

[%hardbreaks]
required  *values*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>>
required  *p*: float in [0.0, 1.0]{nbsp}—{nbsp}(default: 1/2)
 *weightpower*: int in [‒128, 127]{nbsp}—{nbsp}(default: 0)
 *filter*: <<StatisticFilter>>{nbsp}—{nbsp}(default: null)

=== Modes

[%hardbreaks]
required  *values*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>>
 *filter*: <<StatisticFilter>>{nbsp}—{nbsp}(default: null)

=== Extremes

[%hardbreaks]
required  *values*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>>
 *filter*: <<StatisticFilter>>{nbsp}—{nbsp}(default: null)

=== StatisticFilter

[%hardbreaks]
 *min*: float in [‒∞, ∞]{nbsp}—{nbsp}(default: ‒∞)
 *max*: float in [‒∞, ∞]{nbsp}—{nbsp}(default: ∞)
 *excludes_minf*: bool{nbsp}—{nbsp}(default: false)
 *excludes_pinf*: bool{nbsp}—{nbsp}(default: false)
 *excludes_nan*: bool{nbsp}—{nbsp}(default: false)

=== Covariance

[%hardbreaks]
required  *xindex*: int in [0, ∞)
required  *yindex*: int in [0, ∞)
required  *sumwxy*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>>
 *weightpower*: int in [‒128, 127]{nbsp}—{nbsp}(default: 0)
 *filter*: <<StatisticFilter>>{nbsp}—{nbsp}(default: null)

=== ParameterizedFunction

[%hardbreaks]
required  *expression*: str
 *parameters*: list of <<Parameter>>{nbsp}—{nbsp}(default: null/empty)
 *title*: str{nbsp}—{nbsp}(default: null)
 *metadata*: <<Metadata>>{nbsp}—{nbsp}(default: null)
 *decoration*: <<Decoration>>{nbsp}—{nbsp}(default: null)
 *script*: str{nbsp}—{nbsp}(default: null)

=== Parameter

[%hardbreaks]
required  *identifier*: unique str
required  *values*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>>

=== EvaluatedFunction

[%hardbreaks]
required  *values*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>>
 *derivatives*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>> +
{nbsp}—{nbsp}(default: null)
 *errors*: list of <<Quantiles>>{nbsp}—{nbsp}(default: null/empty)
 *title*: str{nbsp}—{nbsp}(default: null)
 *metadata*: <<Metadata>>{nbsp}—{nbsp}(default: null)
 *decoration*: <<Decoration>>{nbsp}—{nbsp}(default: null)
 *script*: str{nbsp}—{nbsp}(default: null)

=== BinnedEvaluatedFunction

[%hardbreaks]
required  *axis*: list of <<Axis>> with length in [1, ∞)
required  *values*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>>
 *derivatives*: <<InterpretedInlineBuffer>> or <<InterpretedInlineInt64Buffer>> or <<InterpretedInlineFloat64Buffer>> or <<InterpretedExternalBuffer>> +
{nbsp}—{nbsp}(default: null)
 *errors*: list of <<Quantiles>>{nbsp}—{nbsp}(default: null/empty)
 *title*: str{nbsp}—{nbsp}(default: null)
 *metadata*: <<Metadata>>{nbsp}—{nbsp}(default: null)
 *decoration*: <<Decoration>>{nbsp}—{nbsp}(default: null)
 *script*: str{nbsp}—{nbsp}(default: null)

=== Ntuple

[%hardbreaks]
required  *columns*: list of <<Column>> with length in [1, ∞)
required  *instances*: list of <<NtupleInstance>> with length in [1, ∞)
 *column_statistics*: list of <<Statistics>>{nbsp}—{nbsp}(default: null/empty)
 *column_covariances*: list of <<Covariance>>{nbsp}—{nbsp}(default: null/empty)
 *functions*: list of <<ParameterizedFunction>> or <<BinnedEvaluatedFunction>>{nbsp}—{nbsp}(default: null/empty)
 *title*: str{nbsp}—{nbsp}(default: null)
 *metadata*: <<Metadata>>{nbsp}—{nbsp}(default: null)
 *decoration*: <<Decoration>>{nbsp}—{nbsp}(default: null)
 *script*: str{nbsp}—{nbsp}(default: null)

=== Column

[%hardbreaks]
required  *identifier*: unique str
required  *dtype*: one of {`+Interpretation.none+`, `+Interpretation.bool+`, `+Interpretation.int8+`, `+Interpretation.uint8+`, `+Interpretation.int16+`, `+Interpretation.uint16+`, `+Interpretation.int32+`, `+Interpretation.uint32+`, `+Interpretation.int64+`, `+Interpretation.uint64+`, `+Interpretation.float32+`, `+Interpretation.float64+`}
 *endianness*: one of {`+Interpretation.little_endian+`, `+Interpretation.big_endian+`} +
{nbsp}—{nbsp}(default: `+Interpretation.little_endian+`)
 *filters*: list of {`+Buffer.none+`, `+Buffer.gzip+`, `+Buffer.lzma+`, `+Buffer.lz4+`} +
{nbsp}—{nbsp}(default: null/empty)
 *postfilter_slice*: slice (start:stop:step){nbsp}—{nbsp}(default: null)
 *title*: str{nbsp}—{nbsp}(default: null)
 *metadata*: <<Metadata>>{nbsp}—{nbsp}(default: null)
 *decoration*: <<Decoration>>{nbsp}—{nbsp}(default: null)

=== NtupleInstance

[%hardbreaks]
required  *chunks*: list of <<Chunk>>
 *chunk_offsets*: list of int{nbsp}—{nbsp}(default: null/empty)

=== Chunk

[%hardbreaks]
required  *column_chunks*: list of <<ColumnChunk>>
 *metadata*: <<Metadata>>{nbsp}—{nbsp}(default: null)

=== ColumnChunk

[%hardbreaks]
required  *pages*: list of <<Page>>
required  *page_offsets*: list of int with length in [1, ∞)
 *page_min*: list of <<Extremes>>{nbsp}—{nbsp}(default: null/empty)
 *page_max*: list of <<Extremes>>{nbsp}—{nbsp}(default: null/empty)

=== Page

[%hardbreaks]
required  *buffer*: <<RawInlineBuffer>> or <<RawExternalBuffer>>

=== RawInlineBuffer

[%hardbreaks]
required  *buffer*: buffer

=== RawExternalBuffer

[%hardbreaks]
required  *pointer*: int in [0, ∞)
required  *numbytes*: int in [0, ∞)
 *external_source*: one of {`+ExternalBuffer.memory+`, `+ExternalBuffer.samefile+`, `+ExternalBuffer.file+`, `+ExternalBuffer.url+`} +
{nbsp}—{nbsp}(default: `+ExternalBuffer.memory+`)

=== Metadata

[%hardbreaks]
required  *data*: str
required  *language*: one of {`+Metadata.unspecified+`, `+Metadata.json+`}{nbsp}—{nbsp}(default: `+Metadata.unspecified+`)

=== Decoration

[%hardbreaks]
required  *data*: str
required  *language*: one of {`+Decoration.unspecified+`, `+Decoration.css+`, `+Decoration.vega+`, `+Decoration.root_json+`} +
{nbsp}—{nbsp}(default: `+Decoration.unspecified+`)
